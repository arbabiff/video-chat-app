# مستندات اشتراک‌های سیستم

این فایل اطلاعات کامل سه اشتراک پیش‌فرض سیستم را شامل می‌شود.

---

## 📦 اشتراک‌های موجود

### 1️⃣ اشتراک یک ماهه
- **نام:** اشتراک یک ماهه
- **قیمت:** ۱۵۰,۰۰۰ تومان
- **مدت:** ۳۰ روز (یک ماه)
- **توضیحات:** اشتراک یک ماهه با امکانات کامل

**ویژگی‌ها:**
- تصویر با کیفیت بالا
- قابلیت قفل ۲ دقیقه‌ای
- ادامه ارتباط بالای ۳ دقیقه
- ۱۰ قفل ماهانه

**مشخصات فنی:**
- کیفیت ویدیو: HD (720p)
- تعداد قفل هدیه: ۱۰ عدد
- زمان نامحدود: بله
- قابلیت هدیه دادن: بله
- وضعیت: فعال

---

### 2️⃣ اشتراک شش ماهه
- **نام:** اشتراک شش ماهه
- **قیمت:** ۶۳۰,۰۰۰ تومان
- **مدت:** ۱۸۰ روز (شش ماه)
- **توضیحات:** اشتراک شش ماهه با تخفیف ویژه

**ویژگی‌ها:**
- تمام مزایای ماهانه
- ۳۰٪ تخفیف
- پشتیبانی اولویت‌دار
- ۶۰ قفل (۶ ماه)

**مشخصات فنی:**
- کیفیت ویدیو: FHD (Full HD - 1080p)
- تعداد قفل هدیه: ۶۰ عدد
- زمان نامحدود: بله
- قابلیت هدیه دادن: بله
- وضعیت: فعال

---

### 3️⃣ اشتراک سالانه
- **نام:** اشتراک سالانه
- **قیمت:** ۹۰۰,۰۰۰ تومان
- **مدت:** ۳۶۵ روز (یک سال)
- **توضیحات:** اشتراک سالانه با بیشترین تخفیف

**ویژگی‌ها:**
- تمام مزایای ماهانه
- ۵۰٪ تخفیف
- قفل نامحدود
- ۱۲۰ قفل (۱ سال)

**مشخصات فنی:**
- کیفیت ویدیو: UHD (Ultra HD - 4K)
- تعداد قفل هدیه: ۱۲۰ عدد
- زمان نامحدود: بله
- قابلیت هدیه دادن: بله
- وضعیت: فعال

---

## 🔧 مدیریت اشتراک‌ها در پنل ادمین

### دسترسی به پنل مدیریت
1. وارد پنل ادمین شوید
2. از منوی سمت راست گزینه **"مدیریت اشتراک‌ها"** را انتخاب کنید
3. لیست همه اشتراک‌ها نمایش داده می‌شود

### قابلیت‌های مدیریت

#### ✏️ ویرایش اشتراک
- روی آیکون ویرایش (مداد) کلیک کنید
- می‌توانید تمام فیلدهای زیر را ویرایش کنید:
  - نام اشتراک
  - قیمت (تومان)
  - مدت (روز)
  - توضیحات
  - ویژگی‌ها (هر خط یک ویژگی)
  - تعداد قفل هدیه
  - کیفیت ویدیو (SD, HD, FHD, UHD)
  - زمان نامحدود (چک‌باکس)
  - قابل هدیه دادن (چک‌باکس)

#### 🗑️ حذف اشتراک
- روی آیکون حذف (سطل زباله) کلیک کنید
- یک پیام تأیید نمایش داده می‌شود
- پس از تأیید، اشتراک حذف می‌شود

#### 👁️ فعال/غیرفعال کردن اشتراک
- روی آیکون چشم کلیک کنید
- اشتراک فعال/غیرفعال می‌شود
- اشتراک‌های غیرفعال در اپلیکیشن نمایش داده نمی‌شوند

#### ➕ افزودن اشتراک جدید
- روی دکمه **"اشتراک جدید"** کلیک کنید
- فرم ایجاد اشتراک نمایش داده می‌شود
- تمام فیلدها را پر کنید
- روی دکمه **"ذخیره"** کلیک کنید

---

## 🔌 API Endpoints

### دریافت همه اشتراک‌ها
```
GET /api/subscriptions
```

**پاسخ نمونه:**
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "name": "اشتراک یک ماهه",
      "price": 150000,
      "duration": 30,
      "description": "اشتراک یک ماهه با امکانات کامل",
      "features": [
        "تصویر با کیفیت بالا",
        "قابلیت قفل ۲ دقیقه‌ای",
        "ادامه ارتباط بالای ۳ دقیقه",
        "۱۰ قفل ماهانه"
      ],
      "active": true,
      "displayInApp": true,
      "giftLocks": 10,
      "videoQuality": "HD",
      "unlimitedTime": true,
      "giftEnabled": true,
      "isSystem": false
    }
  ]
}
```

### دریافت یک اشتراک
```
GET /api/subscriptions/:id
```

### ایجاد اشتراک جدید (نیاز به احراز هویت ادمین)
```
POST /api/subscriptions
```

### به‌روزرسانی اشتراک (نیاز به احراز هویت ادمین)
```
PATCH /api/subscriptions/:id
```

### حذف اشتراک (نیاز به احراز هویت ادمین)
```
DELETE /api/subscriptions/:id
```

---

## 📝 نکات مهم

1. **احراز هویت:** عملیات ایجاد، ویرایش و حذف نیاز به توکن ادمین دارند
2. **پایداری داده:** در حال حاضر اشتراک‌ها در حافظه نگهداری می‌شوند (In-Memory). برای محیط تولید باید از دیتابیس استفاده شود
3. **Validation:** تمام فیلدها در سمت بکند اعتبارسنجی می‌شوند
4. **isSystem:** فیلد `isSystem` برای جلوگیری از حذف تصادفی اشتراک‌های سیستمی است (در حال حاضر false است)

---

## 🚀 نحوه استفاده در فرانت‌اند

```typescript
import { subscriptionApi } from '../services/adminApi';

// دریافت همه اشتراک‌ها
const response = await subscriptionApi.getAll();
console.log(response.data);

// ایجاد اشتراک جدید
const newSub = await subscriptionApi.create({
  name: 'اشتراک تست',
  price: 100000,
  duration: 30,
  description: 'توضیحات تست',
  features: ['ویژگی 1', 'ویژگی 2'],
  giftLocks: 5,
  videoQuality: 'HD',
  unlimitedTime: true,
  giftEnabled: true,
  active: true,
  displayInApp: true
});

// ویرایش اشتراک
const updated = await subscriptionApi.update(1, {
  price: 120000
});

// حذف اشتراک
await subscriptionApi.delete(1);
```

---

**تاریخ ایجاد:** 2025-10-03
**نسخه:** 1.0.0

