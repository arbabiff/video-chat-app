# راهنمای ورود به پنل ادمین

## ⚙️ راهنمای سریع

1. **رفتن به صفحه ورود:** `http://localhost:3001/admin-login.html`
2. **وارد کردن شماره:** هر شماره 11 رقمی با شروع 09 (در حالت توسعه)
3. **وارد کردن کد:** `1234`
4. **ورود به پنل ادمین** ✓

---

## توضیحات کلی

یک صفحه ورود ساده و امن برای پنل ادمین ساخته شده که از شماره تلفن و کد تایید استفاده می‌کند.

## ویژگی‌ها

### ✅ امنیت
- احراز هویت دومرحله‌ای با شماره تلفن و کد تایید
- فقط شماره‌های مجاز ادمین می‌توانند وارد شوند
- انقضای خودکار توکن پس از ۲۴ ساعت
- ذخیره امن اطلاعات در localStorage

### ✅ رابط کاربری
- طراحی مدرن و واکنش‌گرا
- سازگار با موبایل و تبلت
- انیمیشن‌های روان
- پیام‌های خطا و موفقیت واضح

### ✅ تجربه کاربری
- مراحل ساده و قابل فهم
- امکان بازگشت به مرحله قبل
- ارسال مجدد کد تایید
- نمایش اطلاعات ادمین در پنل

## نحوه استفاده

### 1. دسترسی به صفحه ورود

دو روش برای دسترسی به صفحه ورود ادمین:

**روش اول:** مستقیماً از طریق URL
```
http://localhost:3000/admin-login.html
```

**روش دوم:** از طریق صفحه ادمین (هنگام عدم احراز هویت)
```
http://localhost:3000/admin.html
```
سپس کلیک روی "ورود ادمین"

### 2. ورود با شماره تلفن

1. شماره تلفن خود را وارد کنید
2. شماره باید با ۰۹ شروع شده و ۱۱ رقم باشد
3. فقط شماره‌های مجاز می‌توانند ادامه دهند

### 3. تایید کد

1. کد ۴ رقمی ارسال شده را وارد کنید
2. **برای تست:** کد `1234` استفاده کنید
3. پس از تایید، به پنل ادمین هدایت می‌شوید

## شماره‌های ادمین مجاز

### در محیط Development
**همه شماره‌های معتبر (11 رقمی با شروع 09) قابل قبول هستند**

### در محیط Production
فقط این شماره‌ها دسترسی ادمین دارند:
- `09123456789`
- `09121234567`  
- `09133334444`
- `09111111111` (تست)
- `09999999999` (تست عمومی)
- `09100000000` (تست ادمین)

> **نکته:** در پروژه واقعی، این لیست باید از پایگاه داده یا API دریافت شود.

## کد تایید تست

برای تست و توسعه، کد تایید ثابت `1234` در نظر گرفته شده است.

> **نکته:** در پروژه واقعی، کد تایید باید از طریق SMS یا API ارسال شود.

## فایل‌های مربوطه

### کامپوننت‌ها
- `src/components/AdminLogin.tsx` - کامپوننت اصلی ورود
- `src/components/AdminPanel.tsx` - پنل ادمین با دکمه خروج

### صفحات HTML
- `admin-login.html` - صفحه اختصاصی ورود ادمین
- `admin.html` - پنل ادمین (موجود قبلی)

### فایل‌های کمکی
- `src/admin-login-main.tsx` - نقطه ورود اپ ورود
- `src/utils/auth.ts` - سیستم احراز هویت
- `src/App.tsx` - کامپوننت اصلی با احراز هویت

## تنظیمات توسعه

### اجرای پروژه
```bash
npm run dev
```

### ساخت پروژه
```bash
npm run build
```

### پیش‌نمایش
```bash
npm run preview
```

## امنیت و نکات مهم

### در محیط production:

1. **شماره‌های ادمین:** از پایگاه داده یا محیط امن دریافت شوند
2. **کد تایید:** از طریق SMS واقعی ارسال شود
3. **توکن:** از JWT امن با کلید رمزنگاری استفاده کنید
4. **HTTPS:** همیشه از HTTPS استفاده کنید
5. **Rate Limiting:** محدودیت تعداد تلاش ورود

### نکات امنیتی:

- توکن‌ها پس از ۲۴ ساعت منقضی می‌شوند
- اطلاعات حساس در localStorage رمزنگاری شده‌اند
- بررسی مداوم اعتبار احراز هویت
- خروج امن و پاک کردن تمام اطلاعات

## عیب‌یابی

### مشکلات رایج:

1. **شماره تلفن پذیرفته نمی‌شود**
   - بررسی کنید شماره در لیست مجاز باشد
   - فرمت: ۱۱ رقم با شروع ۰۹

2. **کد تایید اشتباه**
   - برای تست از `1234` استفاده کنید
   - در production از کد ارسالی SMS استفاده کنید

3. **خطای دسترسی به پنل**
   - بررسی کنید localStorage پاک نشده باشد
   - در صورت مشکل، مجدد وارد شوید

## ساختار کد

```
src/
├── components/
│   ├── AdminLogin.tsx      # کامپوننت ورود
│   └── AdminPanel.tsx      # پنل ادمین
├── utils/
│   └── auth.ts             # سیستم احراز هویت
├── App.tsx                 # کامپوننت اصلی
└── admin-login-main.tsx    # نقطه ورود ادمین
```

## API آینده

برای اتصال به backend، این endpoint ها پیشنهاد می‌شود:

```typescript
// ارسال کد تایید
POST /api/admin/send-code
Body: { phone: "09123456789" }

// تایید کد و دریافت توکن
POST /api/admin/verify-code  
Body: { phone: "09123456789", code: "1234" }

// بررسی اعتبار توکن
GET /api/admin/verify-token
Headers: { Authorization: "Bearer <token>" }
```

---

**نوشته شده برای پروژه Video Chat**  
**تاریخ:** شهریور ۱۴۰۳  
**ورژن:** 1.0.0